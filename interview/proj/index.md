## vite 插件

### html 转换插件
该插件用于在开发时通过 EJS 模板渲染 HTML 并注入数据/标签，在构建时压缩 HTML 以减小体积
html 转换：开发/构建时在 transformIndexHtml 钩子中，通过 ejs 模板渲染对 html 进行数据/标签注入
html 压缩：构建时在 generateBundle 钩子中，通过 html-minifier-terser 库对 html 内容进行压缩

### 图片压缩插件
该插件用于在构建时自动压缩图片资源
图片压缩：构建时在 generateBundle 钩子中，通过 sharp 库以及配置的压缩参数对图片进行压缩

### 图片上传插件
该插件用于在构建时自动将图片资源上传到外部存储，并替换代码中的图片引用为上传后的 URL
图片上传：
    构建时在 generateBundle 钩子中
    通过将图片资源传递给外部回调进行图片上传
    通过正则表达式遍历代码进行图片路径替换
    删除 bundle 中的图片资源

## 工具封装
use-countdown：基于 requestAnimationFrame 实现的倒计时钩子
use-context：类型安全的上下文钩子
    基于 provide/inject 实现
    实现页面/组件级别的全局数据
    页面/组件销毁后，数据一并销毁
request：支持 token 续签的 axios 请求库封装
    缓存失败请求
    续签结束后再对缓存的 promise 进行 resolve/reject
mitt：组件内自动清理监听器的事件总线
    若组件环境调用 useEventBus
    注册 onScopeDispose 钩子
    组件销毁时清理注册的事件钩子
logger：支持传输通道扩展的日志管理器
    日志输出时，遍历传输通道，进行多通道输出
    常见通道：控制台，日志上传
storage-ref：跨页签同步的持久化 ref 变量
    创建时自带瞬时监听器
    值变化时进行持久化操作
    通过 storage 事件监听不同页签的改变进行值的同步

## 组件封装
### flex 布局组件
简化代码书写

### 文本截断组件
根据文本内容自动决定是否进行文件截断并显示 tooltip
    单行截断：通过指令在 vnode 的生命周期检测内容宽度是否大于显示宽度
    多行截断：通过指令在 vnode 的生命周期检测内容高度是否大于显示高度
    满足截断条件时就会启用 tooltip 并添加对应的截断样式

## 主题配置
计算色阶，动态修改全局 css 变量

## 全局错误兜底处理
针对以下三种错误类型进行错误处理并进行友好提示：
Vue 应用内部错误
同步 JS 运行时错误 & 资源加载错误
未处理的 Promise 异常

## 基于 rbac 的权限控制
user -n:n- role -n:n- api 权限
                -n:n- 菜单权限 -1:n- 按钮权限
菜单权限：根据角色动态返回路由树，根据路由树动态生成菜单树
api 权限：服务端进行收集，后台进行分配
按钮权限：进入菜单时获取按钮权限，基于权限码的显示与隐藏